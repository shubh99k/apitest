<!DOCTYPE html>
<html>
<head>
    <title>API test</title>
    <link rel="icon" type="image/x-icon" href="https://www.fiserv.com/content/dam/fiserv-com/favicon-med.ico">
</head>
<body>
    
    <div id="swagger-ui"></div>

    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@4.3.1/swagger-ui-bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@4.3.1/swagger-ui-standalone-preset.js"></script>
    <link rel="stylesheet" type="text/css" href="swagger-ui-themes/theme1/theme.css">
    <script>
        // Function to load Swagger UI with a Swagger file
        function loadSwaggerUI(specUrl) {
            const ui = SwaggerUIBundle({
                spec: specUrl,
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [SwaggerUIBundle.presets.apis, SwaggerUIStandalonePreset],
                layout: 'StandaloneLayout',
                theme: 'theme1', // Replace 'theme1' with the chosen theme name
            });
            window.ui = ui;
        }

        // Parse the URL to get the file name
        var urlParams = new URLSearchParams(window.location.search);
        var swaggerFile = urlParams.get('file');

        // Check if a specific Swagger file is specified in the URL
        if (swaggerFile) {
            var swaggerUrl = 'https://shubh99k.github.io/apitest/' + swaggerFile;
            loadSwaggerUI(swaggerUrl);
        } else {
            // Array of Swagger file URLs
            var swaggerFiles = [
                'https://shubh99k.github.io/apitest/prod.yaml',
                'https://fiserv.github.io/firstvision-emea/assets/swagger/qa2.yaml',
                'https://fiserv.github.io/firstvision-emea/assets/swagger/qa3.yaml',
                'https://fiserv.github.io/firstvision-emea/assets/swagger/uat.yaml',
                'https://fiserv.github.io/firstvision-emea/assets/swagger/qa-in.yaml',
                'https://fiserv.github.io/firstvision-emea/assets/swagger/qa2-in.yaml',
                'https://fiserv.github.io/firstvision-emea/assets/swagger/uat-in.yaml',
            ];

            // Loop through the Swagger file URLs and load Swagger UI for each file
            for (var i = 0; i < swaggerFiles.length; i++) {
                loadSwaggerUI(swaggerFiles[i]);
            }
        }
    </script>
</body>
</html>
